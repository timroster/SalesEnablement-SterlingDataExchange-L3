{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Introduction","text":"<p>Welcome to the IBM Sterling Data Exchange Level 3 demonstration workshop! The goal of this guide is to provide IBM and Business Partner technical sellers with the knowledge and tools to perform hands-on demonstrations of IBM Sterling B2B Integrator.</p> <p>In addition to completing all the steps in this demonstration guide, to obtain the associated IBM Sterling Data Exchange Level 3 badge:</p> <p>IBM Technical Sellers must develop and record a Stand &amp; Deliver presentation. This video is intended to simulate delivery of a \u201clive\u201d demo in front of a client \u2014 on camera. IBMers will have flexibility in defining a hypothetical client, the pain points the client has, and the goals they aspire to achieve. The recording will then cover the seller\u2019s hands-on demonstration and pitch to the client the value of the IBM solution using the environment and techniques of this lab. Specific criteria that must be demonstrated as part of the Stand &amp; Deliver recordings is provided within the documentation that accompanies the Level 3 course in Your Learning.</p> <p>Business Partners must pass an accreditation quiz after completing this demonstration guide. The quiz consists of multiple choice questions, with four possible responses (and only one correct answer) for each question. The quiz verifies use of the demonstration environment and not general knowledge of the offering.Hint: keep the demonstration guide and the associated IBM Technology Zone (TechZone) environment active while completing the quiz. Watch for the \"BP quiz question\"  icon in the demonstration guide.</p> <p>Before jumping to the Demonstration Overview, please read the guidance below. Reading and understanding the information will save time while completing the steps in this guide.</p>"},{"location":"#recommended-browsers","title":"Recommended browsers","text":"<p>It is recommended to use either Firefox or Safari web browsers. There has been at least one instance reported using the Chrome browser and some popup menus not being populated and some popup dialogs not appearing. No testing has been done using the Microsoft Edge browser.</p>"},{"location":"#helpful-tips-for-using-this-demonstration-guide-and-environment","title":"Helpful tips for using this demonstration guide and environment","text":"<p>Throughout the guide, images are used to help guide students through the demonstration.</p> <p>The following styles of highlighting are utilized in images:</p> <ul> <li>Action highlight box: Illustrates where to click, enter, or select an item:</li> </ul> <p></p> <ul> <li> <p>Path/explore highlight box: Illustrates one of two things:</p> <ul> <li>the path to follow to get to a specific location in the user interface</li> <li>areas to explore</li> </ul> </li> </ul> <p></p> <ul> <li>Copy to clipboard box: The text is copied to the clipboard. Click the copy icon (highlighted below) and then paste using the operating system's paste function. For example, entering Ctrl+v, Cmd+v, or right-click and select paste.</li> </ul> <p></p>"},{"location":"#acronyms","title":"Acronyms","text":"<p>The following acronyms are used throughout this demonstration guide:</p> <pre><code>- Applicability Statement 2 (AS2)\n- Application programming interfaces (APIs)\n- Artificial Intelligence (AI)\n- Business Partner (BP)\n- Electronic Data Interchange (EDI)\n- IBM Sterling Business to Business Integrator (B2Bi)\n- IBM Sterling Partner Engagement Manager (PEM)\n- IBM Technology Zone (ITZ)\n- Red Hat OpenShift on IBM Cloud (ROKS)\n- User Interface (UI)\n- Virtual Machine (VM)\n- Yet Another Markup Language (YAML)\n</code></pre> <p>It is now time to proceed to the Demonstration Overview.</p>"},{"location":"ClientDemonstration/","title":"Client Demonstration","text":"<p>It is now time for the partners to transfer files between each other using the newly created B2Bi SFTP adapter, but first one last setup step to make the demonstration more visually exciting.</p> <p>In this demonstration, the FileZilla application will be used. FileZilla is a free and open-source, cross-platform FTP application, consisting of FileZilla Client and FileZilla Server. Clients are available for Windows, Linux, and macOS. Learn more about FileZilla here.</p> <p>If users do not already have FileZilla installed, do so now. IBM employees can download FileZilla from the Mac@IBM store. For Business Partners and IBMers on Microsoft Windows, the download links are available at the link above.</p> <p>If users are unable to use FileZilla, it is recommended to use the IBM Sterling File Gateway clients for both users in the scenario that follows. To avoid having to log in and out between user actions, it is recommended to use two different browsers (e.g. Chrome and Firefox) for each user or private/incognito windows for each user when accessing the IBM Sterling File Gateways.</p> <p>When doing a client demonstration, it is recommended to split the FileZilla and browser windows on the same screen to avoid switching back and forth during the demonstration.</p> <p>For this scenario, partner1 will use the IBM Sterling File Gateway clients, and partner2 will use FileZilla.</p> <p>As an introduction, watch this brief video of the steps to be performed.</p>"},{"location":"ClientDemonstration/#configure-filezilla-for-partner2","title":"Configure FileZilla for partner2","text":"<p>To configure FileZilla for partner2 both the File Gateway route address and port number will be needed.</p> <ol> <li> <p>Return to the OpenShift web console and click on the sterling-fg-b2bi-asi-internal-route route on the Routes page.</p> <p></p> </li> <li> <p>Select the Host field, right click, and click Copy.</p> <p>Note, the example below was captured using Firefox on MacOS. Others browser menus options may be labeled differently.</p> <p></p> </li> <li> <p>Open the FileZilla application on local computer.</p> <p></p> </li> <li> <p>Click the FileZilla Site Manager  icon.</p> <p></p> </li> <li> <p>Click the New site button.</p> <p></p> </li> <li> <p>Enter B2BGateway for the New Site name and press enter.</p> <p></p> </li> <li> <p>Select SFTP - Secure File Transfer Protocol on the Protocol pull-down menu.</p> <p></p> </li> <li> <p>Paste the hostname copied from the OpenShift Route in step 2 into the Host field.</p> <p></p> </li> <li> <p>Enter the port number of the sterling-fg-b2bi-asi-backend-svc service in the Port field.</p> <p></p> Don't remember the port number? <p>The port number can be found in the details of the sterling-fg-b2bi-asi-backend-svc service in the OpenShift web console - use adapters-1's Node port.</p> <p></p> </li> <li> <p>Enter bb-partner2 in the User field and password in the Password field and click the Connect button.</p> <p></p> FileZilla Warning about saving passwords <p>If you have told FileZilla not to save passwords, you will see a warning about the login process being changed from 'Normal' to 'Ask for password'. This is ok and you will be prompted for the password for bb-partner2 when connecting to the SFTP server.</p> <p></p> </li> <li> <p>Check the Always trust this host, add this key to cache checkbox and click OK on the Unknown host key pop-up window.</p> <p></p> </li> <li> <p>Notice the connection is established and the Remote site shows no files.</p> <p></p> </li> <li> <p>At this time, it is recommended to have both FileZilla and the OpenShift web console both visible at the same time (either split on a single screen or using multiple monitors).</p> <p></p> </li> <li> <p>Create or download the 2 sample files that will be transferred between partner1 and partner2. Since the templates created earlier allow for any file names to be transferred it does not matter what files are used.  It is suggested to use small files so the transfers happen quickly.  Feel free to download these two sample invoice files. In most browsers, select the link names below, right click on the links, and click Save link as to the local Downloads directory.</p> <ul> <li> <p>SampleInvoice1.xml</p> </li> <li> <p>SampleInvoice2.xml</p> </li> </ul> </li> </ol>"},{"location":"ClientDemonstration/#transfer-a-file-from-partner1-to-partner2-using-the-ibm-sterling-my-file-gateway-20","title":"Transfer a file from partner1 to partner2 using the IBM Sterling My File Gateway 2.0","text":"<ol> <li> <p>In the OpenShift web console click the link to open the link to the sterling-fg-b2bi-asi-internal-route-myfg route.</p> <p></p> </li> <li> <p>Enter bb-partner1 in the User name field, password in the Password field, and then click Log in.</p> <p></p> </li> <li> <p>Click the hamburger menu icon  at top left and click Uploads.</p> <p></p> </li> <li> <p>Click the / directory in left-hand panel.</p> <p></p> </li> <li> <p>Click the select link in the Upload to / panel.</p> <p></p> </li> <li> <p>Click the SampleInvoice1.xml file in the Downloads directory and click Open.</p> <p>Note</p> <p>Navigate to the directory where the sample invoice files were downloaded or pick another file to transfer. Do not transfer any file with confidential or personal information. The image above was captured using Firefox on MacOS, other browsers and operating system combinations may look different.</p> <p></p> </li> <li> <p>Verify in the myFileGateway application that the file transferred successfully.</p> <p></p> </li> <li> <p>Verify in FileZilla that bb-partner2 received the file.</p> <p></p> <p>Note</p> <p>The file size shown in IBM Sterling My File Gateway 2.0 is in kilobytes (KB) and in FileZilla the file size is displayed in bytes, but they are the same and the file transfer was successful.</p> <p>It is important to realize the file has been transferred to the B2Bi Gateway repository. In a production environment, bb-partner2 would need to download the file. FileZilla is showing the contents of the data store on the gateway that bb-partner2 has permissions to see.</p> </li> </ol>"},{"location":"ClientDemonstration/#view-the-details-of-the-file-transfer-in-ibm-sterling-my-file-gateway-20","title":"View the details of the file transfer in IBM Sterling My File Gateway 2.0","text":"<ol> <li> <p>Click File activity under the hamburger menu icon .</p> <p></p> </li> <li> <p>Click the link for the recently uploaded file: SampleInvoice1.xml.</p> <p></p> </li> <li> <p>Review the events that occurred during the file transfer.</p> <p></p> <p>Notice events FG_0503 and FG_0504 show the BB Passthrough channel template was used to properly route the transferred file to bb-partner2.</p> </li> </ol> BP quiz question <p>There is a quiz question related to the events of a successful file transfer. A screen capture of all the events and event numbers will help answer the question.</p> <p>For additional demonstrations, consider the following:</p> <ul> <li>Transfer a file from bb-partner2 to bb-partner1.</li> <li>Verify the file transfers using the IBM Sterling File Gateway application.</li> <li>Transfer a file using the older version of IBM Sterling My File Gateway using the sterling-fg-b2bi-asi-internal-route-myfilegateway route found in the OpenShift web console.</li> </ul>"},{"location":"ConfigurationPart1/","title":"B2Bi Configuration Part 1","text":"<p>In this chapter, learn how to configure a Secure File Transfer Protocol (SFTP) adapter using the containerized B2Bi deployment.</p> <p>Instructor-lead Activity</p> <p>This will be a group exercise to complete B2Bi Configuration Part 1 since there is only 1 SSH Host identity and 1 SFTP Server adapter needed for the full workshop. However, you may follow along with the steps shown as they are performed by the workshop leader. When repeating this setup for a client demonstration on your own, complete both B2Bi Configuration Part 1 and B2Bi Configuration Part 2.</p>"},{"location":"ConfigurationPart1/#open-the-b2bi-dashboard","title":"Open the B2Bi dashboard","text":"<p>The B2Bi dashboard runs as an application on Red Hat OpenShift. These steps will guide you in the OpenShift console to find and launch the B2Bi dashboard from the OpenShift Route.</p> <ol> <li> <p>In the OpenShift web console, click Routes under the Network section in left-hand panel.</p> <p></p> </li> <li> <p>Click the All Projects pull-down menu and click the b2bi project.</p> <p></p> BP quiz question <p>Several BP quiz questions will come from the OpenShift web console. When taking the BP quiz make sure the ITZ environment is still active and keep this demonstration script open.</p> </li> <li> <p>Notice all the routes that are currently defined in the b2bi Project, there are 15 of them</p> <p></p> </li> <li> <p>To start the setup of the SFTP adapter, launch the IBM Sterling B2Bi dashboard by clicking on the route for the sterling-fg-b2bi-asi-internal-route-dashboard route in the Location column. Do not click the Route name, rather click the Route link in the Location column of the table.</p> <p></p> <p>Hint</p> <p>As this is a new install, in this demonstration simple adminstrative user ids and passwords will be used. To keep things simple in this demonstration, all passwords will be set to password#. Not secure, but this will be a short lived demonstration environment.</p> </li> <li> <p>Enter admin in the User ID field and password# in the Password field, and then click Sign In.</p> <p></p> </li> </ol>"},{"location":"ConfigurationPart1/#create-a-ssh-host-identity-key","title":"Create a SSH Host Identity key","text":"<p>First, a SSH Host Identity needs to be created. The Host Identity Key is a Private/Public key pair used to identify the Application SFTP Server to remote clients.  Note, for this demonstration, default values will be used where possible, but production deployments may use other values depending on client requirements.</p> BP quiz question <p>Several BP quiz questions will come from the B2Bi dashboard. When taking the BP quiz make sure the ITZ environment is still active and keep this demonstration script open.</p> <ol> <li> <p>Click the Deployment menu item in left-hand menu bar.</p> <p></p> </li> <li> <p>Click the SSH Host Identity Key menu item in the left-hand menu bar.</p> <p></p> </li> <li> <p>Click the Go! button in the Create: New Host Identity Key box.</p> <p></p> </li> <li> <p>Enter demo in the Host Name: field of the \"New Host Identity Key\" form and then click the Next button.</p> <p></p> </li> <li> <p>Click Finish.</p> <p></p> </li> <li> <p>Click OK</p> <p></p> </li> <li> <p>Wait until the completed message is received and the click the Return button.</p> <p></p> </li> </ol>"},{"location":"ConfigurationPart1/#create-a-sftp-adapter","title":"Create a SFTP adapter","text":"<p>Next, an SFTP adapter must be created which will utilize the OpenShift service port for B2Bi.</p> <ol> <li> <p>Click the Services menu item under Deployment in the left-hand menu bar.</p> <p></p> </li> <li> <p>Click the Configuration menu item under Services.</p> <p></p> </li> <li> <p>Enter sftp in the Service Name field and click the Go! button in the Search box.</p> <p></p> </li> <li> <p>Locate the SFTP Server Adapter entry in the table and click the edit button.</p> <p></p> </li> <li> <p>Review the default settings and click Next.</p> <p></p> </li> <li> <p>Review the settings on the SFTP Server Adapter: Configuration form.</p> <p></p> <p>The default SFTP Server Listen Port must be changed to the B2Bi service port configured in OpenShift.</p> </li> <li> <p>Switch back to the OpenShift web console browser window or tab and click Services under the Networking in the left-hand menu bar.</p> <p></p> </li> <li> <p>Find and click the sterling-fg-b2bi-asi-backend-svc link.</p> <p></p> </li> <li> <p>Locate and copy the Node Port number for adapters-1 in the Service port mapping table.</p> <p></p> </li> <li> <p>Record the Node Port number, it will be used several times during this demonstration.</p> </li> <li> <p>Switch back to the B2Bi Dashboard browser window or tab.</p> <p></p> </li> <li> <p>Enter or copy the recorded Service Port number into the SFTP Server Listen Port entry field and click Next.</p> <p></p> </li> <li> <p>Review the default settings on the SFTP Server Adapter: Configuration: Document Storage page and click Next.</p> <p></p> </li> <li> <p>Review the default settings on the SFTP Server Adapter: Add Policies page and click Next.</p> <p></p> </li> <li> <p>Review the default settings on the SFTP Server Adapter: Configuration page and click Next.</p> <p></p> </li> <li> <p>Review the default settings on the SFTP Server Adapter: Extractability page and click Next.</p> <p></p> </li> <li> <p>Review the SFTP Server Adapter: Confirmation page and click Finish.</p> <p></p> </li> <li> <p>Click Return after the new SFTP adapter has been created.</p> <p></p> </li> <li> <p>Click the checkbox next to the SFTP Server Adapter to start the adapter.</p> <p></p> </li> <li> <p>Click the  icon next to the SFTP Server Adapter.</p> <p></p> </li> <li> <p>Verify the SFTP Server Adapter is Running.</p> <p></p> </li> <li> <p>Close the Adapter Information pop-up window.</p> <p></p> </li> <li> <p>Click the Logout link to log out of the B2Bi dashboard.</p> <p></p> </li> </ol> <p>Now that the SFTP adapter is running, it time to move to the next step in the configuration of B2Bi.</p>"},{"location":"ConfigurationPart2/","title":"B2Bi Configuration Part 2","text":"<p>In this chapter, learn how to create a B2Bi partner community, add partners to the community, create a group with these users, create a routing template for the group, and create routing channels.</p> <p>To make this workshop interesting, we will implement a collection of trading partner networks, with each sharing files within their network. To do this, each workshop participant will uniquely name resources by using a prefix of their initials on resources. All of the examples that follow are what Bilbo Baggins would use (bb).</p>"},{"location":"ConfigurationPart2/#create-a-partner-community","title":"Create a partner community","text":"<ol> <li> <p>Return to the OpenShift web console and click on the route link to the IBM Sterling File Gateway user interface (UI): sterling-fg-b2bi-asi-internal-route-filegateway.</p> <p></p> </li> <li> <p>Enter fg_sysadmin in the User ID field, password# in the Password field, and then click the Sign In button.</p> <p></p> </li> <li> <p>Click the Participants pull-down menu item on top menu bar.</p> <p></p> </li> <li> <p>Click Communities in the Participants menu.</p> <p></p> </li> <li> <p>In the Communities pop-up window, click the add link.</p> <p></p> </li> <li> <p>Append your initials to the community name followed by an underscore. For example, Bilbo Baggins would enter bb_sftp_community in the Community Name entry field and click Next.</p> <p></p> </li> <li> <p>Select both the Partner Initiates Protocol Connections to Mailbox and the Partner Listens for Protocol Connections check boxes.</p> <p></p> </li> <li> <p>Select the SSH/SFTP checkbox and click Next.</p> <p></p> </li> <li> <p>Click Next on the Add Community: Notifications form.</p> <p></p> </li> <li> <p>Click Finish to confirm the creation of the new community.</p> <p></p> </li> <li> <p>Click Return on the community confirmation screen.</p> <p></p> </li> </ol>"},{"location":"ConfigurationPart2/#add-partners-to-the-partner-community","title":"Add partners to the partner community","text":"<p>Next, add 2 partners to the newly created bb-sftp_community.</p> <ol> <li> <p>Click the edit link for the community that has your initials as the prefix (following the same example for Bilbo): bb_sftp_community on the Communities pop-up window.</p> <p></p> </li> <li> <p>Under Partner, click the Add link.</p> <p></p> </li> <li> <p>Use your initials followed by a dash as a prefix for the first partner identifier. Enter bb-partner1 in the Partner Name field, 10 digits in the Phone field, bb-partner1@localhost.com in the Email Address field, and then click Next.</p> <p></p> </li> <li> <p>Enter bb-partner1 in the User Name field, password in the Password field, password in the Confirm Password field, BB Partner in the Given Name field, One in Surname field, and then click Next. Technically, you can use any password you prefer, but it will be needed later in client demo lab.</p> <p></p> </li> <li> <p>Click bb-partner1 is a Producer of Data and then click Next.</p> <p></p> </li> <li> <p>Review the default settings on the Initiate Connections Settings screen and then click Next.</p> <p></p> </li> <li> <p>Review the default settings on the PGP Settings screen and then click Next.</p> <p></p> </li> <li> <p>Review the settings for bb-partner1 and click Finish.</p> <p></p> </li> <li> <p>Click Return on the Added Partner Successful screen.</p> <p></p> </li> <li> <p>Repeat the Steps 13 through 20 to create a second partner named partner2 using the same settings.</p> <p></p> </li> <li> <p>Click Return on the Edit Community: bb_sftp_community screen after creating both partners.</p> <p></p> </li> <li> <p>Close the Communities pop-up window.</p> <p></p> </li> <li> <p>Click Partners under the Participants menu.</p> <p></p> </li> <li> <p>Click the Refresh button if partner1 and partner2 do not appear in the Partners table.</p> <p></p> </li> </ol>"},{"location":"ConfigurationPart2/#create-a-group","title":"Create a group","text":"<p>You will now add a group to make mapping selecting users into a routing channel more simple and scalable</p> <ol> <li> <p>Click Groups under the Participants menu.</p> <p></p> </li> <li> <p>Click Create to add a new Group.</p> <p></p> </li> <li> <p>Enter your capital initials followed by a space and then Partners, continuing with the example, it would be BB Partners. Then click on Save.</p> <p></p> <p>Click on Ok to clear the confirmation.</p> <p></p> </li> <li> <p>With the Group you added selected, click on Add Partners....</p> <p></p> </li> <li> <p>Select the identities that you added and the group (use Ctrl-Click for multiple selections) and then Click Execute</p> <p></p> </li> <li> <p>Review the proposed changes for moving the users to the group and Click Ok</p> <p></p> </li> <li> <p>Click Back to return to the previous page.</p> <p></p> </li> <li> <p>Select the group to confirm that the partners are showing as belonging in the group.</p> <p></p> </li> </ol>"},{"location":"ConfigurationPart2/#create-a-routing-template","title":"Create a routing template","text":"<ol> <li> <p>Click Templates under the Routes menu.</p> <p></p> </li> <li> <p>Click the Create button at the bottom of the Routing Channel Templates page.</p> <p></p> </li> <li> <p>Enter BB Passthrough in the Template Name field and then click Next&gt;&gt;.</p> <p></p> </li> <li> <p>Review the Special Characters settings and then click Next&gt;&gt;.</p> <p></p> </li> <li> <p>Add only BB Partners to both the Producer Groups and Consumer Groups tables.</p> <p></p> </li> <li> <p>Click Next&gt;&gt; after adding BB Partners to both groups.</p> <p></p> </li> <li> <p>Review the Provisioning Facts page and then click Next&gt;&gt;.</p> <p></p> </li> <li> <p>Review the File Operation page and then click Next&gt;&gt;.</p> <p></p> </li> <li> <p>Click the Add button on the Producer page.</p> <p></p> </li> <li> <p>Click the Producer File Type pull-down menu and select Unknown.</p> <p></p> </li> <li> <p>Enter .+ in the File name pattern as regular expression field and then click Save.</p> <p></p> <p>Setting the file pattern to the regular expression .+ allows for file names of one or more characters.</p> </li> <li> <p>Click Next&gt;&gt; on the Producer page.</p> <p></p> </li> <li> <p>Click the Add button on the Consumer page.</p> <p></p> </li> <li> <p>Click the Add button on the New Delivery Channel pop-up window.</p> <p></p> </li> <li> <p>Click Unknown in the Consumer File Type pull-down menu.</p> <p></p> </li> <li> <p>Enter ${ProducerFileName} in the File name format* field.</p> <pre><code>${ProducerFileName}\n</code></pre> </li> <li> <p>Review the help information regarding file name formats by hovering over the File name format entry field and then click Save.</p> <p></p> </li> <li> <p>Click Save on the New Delivery Channel pop-up window.</p> <p></p> </li> <li> <p>Click Save on the Consumer page.</p> <p></p> </li> <li> <p>Click OK on the Routing Channel Template successfully created. pop-up message.</p> <p></p> </li> <li> <p>Review the settings for the new BB Passthrough routing channel template.</p> <p></p> </li> </ol>"},{"location":"ConfigurationPart2/#create-routing-channels","title":"Create routing channels","text":"<ol> <li> <p>Click the Channels option under the Routes menu.</p> <p></p> </li> <li> <p>Click the Create button at bottom right to create a new Channel.</p> <p></p> </li> <li> <p>Select BB Passthrough for the Routing Channel Template, bb-partner1 for the Producer, and bb-partner2 for the Consumer, and then click Save to create the new channel.</p> <p></p> </li> <li> <p>Click OK on the Success pop-up window.</p> <p></p> </li> <li> <p>Repeat the prior steps to create a channel from bb-partner2 to bb-partner1.</p> <p></p> </li> <li> <p>Click Sign Out.</p> <p></p> </li> </ol> <p>In the next chapter, the fun begins as the partners start to securely exchange files.</p>"},{"location":"DemoPreparation-CloudShell/","title":"DemoPreparation CloudShell","text":"<p>This demonstration guide assumes a Custom ROKS environment provisioned from IBM Technology Zone (ITZ) here.</p> <p>At this point, all users should have completed the steps in the IBM Sterling Data Exchange Level 3 learning plan to reserve the Red Hat OpenShift on IBM Cloud environment as described in the IBM Sterling Data Exchange Level 3 Introduction video. Before proceeding, validate that the reservation has been fully provisioned and is in the Ready state in ITZ. If not, please complete those steps before proceeding.</p> <p></p> <p>The following steps must be performed before delivering the demonstration. These steps should be performed well in advance of starting an actual client demonstration as it will take approximately 90 minutes for all steps to complete.</p>"},{"location":"DemoPreparation-CloudShell/#accept-invitation-to-join-the-itz-ibm-cloud-account-for-the-custom-roks-reservation","title":"Accept invitation to join the ITZ IBM Cloud account for the Custom ROKS reservation","text":"<ol> <li>Open the You are invited to join an account in IBM Cloud email received from IBM Cloud and click the Join now link.</li> </ol> Did not get an e-mail from IBM Cloud? <p>If you did not receive an e-mail from IBM Cloud inviting you to join the 2112072 - ITZ - V2, but you did receive a notification from ITZ that your environment was ready, try the following:</p> <ul> <li>Log into cloud.ibm.com using your IBM Cloud ID.</li> <li>Click the .</li> <li>Look for a new notification with the subject: Action required: You are invited to join an account in IBM Cloud.</li> <li>Click on the notification and then click the Join now link.</li> </ul> <p>If you do not see a notification or an e-mail, try deleting the existing reservation in ITZ and try creating a new one. If that doesn't work, open a support ticket in the #itz-techzone-support Slack channel.  Include the reservation ID and summarize the problem in your message.</p> <ol> <li>In the browser window that opens, click the Join Account button.</li> </ol> <p></p> <p>Follow the steps to login to IBM Cloud.</p> <ol> <li>On the IBM Cloud Dashboard set the current account to 2112072 - ITZ - V2.</li> </ol> <p></p> Not seeing 2112072 - ITZ - V2? <p>It is possible ITZ provisioned the OpenShift cluster in a different IBM Cloud account. Select the account specified in the ITZ reservation. </p>"},{"location":"DemoPreparation-CloudShell/#access-the-openshift-web-console","title":"Access the OpenShift web console","text":"<ol> <li>Click the OpenShift  icon in the left-hand menu bar.</li> </ol> <ol> <li>Click Clusters.</li> </ol> <ol> <li>Click the OpenShift cluster name in the table.</li> </ol> <p>Note: the cluster name will be different than seen in the above image.</p> <ol> <li>Click the OpenShift web console button.</li> </ol> <p></p> <p>At this time, a page like the one below should open in a new browser window or tab.</p> <p></p> <p>Leave this browser window open. It will be used again later.</p>"},{"location":"DemoPreparation-CloudShell/#retrieve-the-b2bi-installation-scripts","title":"Retrieve the B2Bi installation scripts","text":"<p>In this part of the demonstration, you will use the IBM Cloud Shell. If you are not familiar with IBM Cloud Shell, you can learn about it here.</p> <p>Warning</p> <p>It is critical all steps in this section be completed in a single instance of IBM Cloud Shell. If the shell becomes inactive for more than 20 minutes, it will be closed. Additionally, local files will not persist after 2 hours of inactivity. In this section, files are downloaded, modified, and long running commands are executed. Please allot approximately 90 continuous minutes to complete this section of the demonstration script. Note, the last step is a long running (~60 minutes) automated script. Once started, keep the Cloud Shell browser window/tab open and allow the process to complete. No further user interaction will be required once it is started. Not completing this section in a single instance of IBM Cloud Shell will leave the B2Bi deployment to OpenShift in an inconsistent state. A new ITZ environment will need to be provisioned and this section will need to be re-executed.</p> <p>Tip</p> <p>Use the copy capability of the demonstration guide to copy and paste commands to the IBM Cloud Command Shell to avoid typing errors.</p> <ol> <li>In the IBM Cloud Portal, with the demonstration account selected (2112072 - ITZ - V2), click the IBM Cloud Shell icon.</li> </ol> <p></p> <p>The IBM Cloud Shell will open in a new browser tab or window. It may take a few seconds for the shell to initialize.</p> <p></p> <ol> <li>Create a new directory for the B2Bi installation scripts.</li> </ol> <pre><code>mkdir b2bi\n</code></pre> <ol> <li>Set the PROJECT_DIR environment variable.</li> </ol> <pre><code>export PROJECT_DIR=$HOME/b2bi\n</code></pre> <ol> <li>Change directories to PROJECT_DIR.</li> </ol> <pre><code>cd $PROJECT_DIR\n</code></pre> <ol> <li>Download the B2Bi installation script.</li> </ol> <pre><code>wget -O rapid-lab-b2bi-newdb-61051-CloudShell.zip https://github.com/IBM/SalesEnablement-SterlingDataExchange-L3/blob/main/tools/rapid-lab-b2bi-newdb-61051-CloudShell.zip?raw=true\n</code></pre> Example output <p>--2022-10-18 20:12:56--  https://github.com/IBM/SalesEnablement-SterlingDataExchange-L3/blob/main/tools/rapid-lab-b2bi-newdb-61051.zip?raw=true</p> <p>Resolving github.com (github.com)... 140.82.113.4</p> <p>Connecting to github.com (github.com)|140.82.113.4|:443... connected.</p> <p>HTTP request sent, awaiting response... 302 Found</p> <p>Location: https://github.com/IBM/SalesEnablement-SterlingDataExchange-L3/raw/main/tools/rapid-lab-b2bi-newdb-61051.zip [following]</p> <p>--2022-10-18 20:12:56--  https://github.com/IBM/SalesEnablement-SterlingDataExchange-L3/raw/main/tools/rapid-lab-b2bi-newdb-61051.zip</p> <p>Reusing existing connection to github.com:443.</p> <p>HTTP request sent, awaiting response... 302 Found</p> <p>Location: https://raw.githubusercontent.com/IBM/SalesEnablement-SterlingDataExchange-L3/main/tools/rapid-lab-b2bi-newdb-61051.zip [following]</p> <p>--2022-10-18 20:12:57--  https://raw.githubusercontent.com/IBM/SalesEnablement-SterlingDataExchange-L3/main/tools/rapid-lab-b2bi-newdb-61051.zip</p> <p>Resolving raw.githubusercontent.com (raw.githubusercontent.com)... 185.199.110.133, 185.199.111.133, 185.199.108.133, ...</p> <p>Connecting to raw.githubusercontent.com (raw.githubusercontent.com)|185.199.110.133|:443... connected.</p> <p>HTTP request sent, awaiting response... 200 OK</p> <p>Length: 4061226 (3.9M) [application/zip]</p> <p>Saving to: \u2018rapid-lab-b2bi-newlab-61051.zip\u2019</p> <p>rapid-lab-b2bi-newlab-61051.zip                             100%[=========================================================================================================================================&gt;]   3.87M  --.-KB/s    in 0.03s</p> <p>2022-10-18 20:12:57 (147 MB/s) - \u2018rapid-lab-b2bi-newlab-61051.zip\u2019 saved [4061226/4061226]</p> <ol> <li>Unzip the installation script.</li> </ol> <pre><code>unzip rapid-lab-b2bi-newdb-61051-CloudShell.zip\n</code></pre> Example output <p>Archive:  rapid-lab-b2bi-newdb-61051-CloudShell.zip</p> <p>inflating: deploy_mq.sh</p> <p>inflating: edited-values.yaml</p> <p>inflating: prepare_db2.sh</p> <p>inflating: deploy_db2.sh</p> <p>inflating: README.md</p> <p>inflating: COPYING</p> <p>inflating: env.sh</p> <p>inflating: deploy_b2bi.sh</p> <p>inflating: db2jcc4.jar</p>"},{"location":"DemoPreparation-CloudShell/#authenticate-to-the-openshift-cluster","title":"Authenticate to the OpenShift cluster","text":"<p>For the next steps, the OpenShift login command to authenticate to the OpenShift cluster must be retrieved and executed.</p> <ol> <li>Switch to the OpenShift web console browser window or tab.</li> </ol> <p></p> <ol> <li>Click the IAM identity drop-down menu at top right of the OpenShift web console and click the Copy login command option.</li> </ol> <p></p> <ol> <li>Click the Display Token link.</li> </ol> <p></p> <ol> <li>Copy the string in the Log in with this token field.</li> </ol> <p></p> <ol> <li>Switch back to the IBM Cloud Shell browser window or tab from earlier.</li> <li>Paste the oc login command line copied in step 17 into the IBM Cloud Shell window and press enter.</li> </ol> <p>Example output</p> <p>itzuser@itz-2700039nft-srv4:~/b2bi$ oc login --token=sha256~XXXXXXXXXXXXXXXXXX --server=https://c103-e.us-south.containers.cloud.ibm.com:31501</p> <p>Logged into \"https://c103-e.us-south.containers.cloud.ibm.com:31501\" as \"IAM#andrew@jones-tx.com\" using the token provided.</p> <p>You have access to 66 projects, the list has been suppressed. You can list all projects with 'oc projects'</p> <p>Using project \"default\".</p> <p>Welcome! See 'oc help' to get started.</p> <p>itzuser@itz-2700039nft-srv4:~/b2bi$</p>"},{"location":"DemoPreparation-CloudShell/#install-db2-in-the-openshift-cluster","title":"Install Db2 in the OpenShift cluster","text":"<ol> <li>Run the environment setup and Db2 deploy scripts.</li> </ol> <pre><code>. env.sh ; ./deploy_db2.sh\n</code></pre> Example output <p>Now using project \"db2\" on server \"https://c109-e.us-east.containers.cloud.ibm.com:30720\".</p> <p>You can add applications to this project with the 'new-app' command. For example, try:</p> <p>oc new-app rails-postgresql-example</p> <p>to build a new example application in Ruby. Or use kubectl to deploy a simple Kubernetes application:</p> <p>kubectl create deployment hello-node --image=k8s.gcr.io/e2e-test-images/agnhost:2.33 -- /agnhost serve-hostname</p> <p>serviceaccount/db2 created clusterrole.rbac.authorization.k8s.io/system:openshift:scc:privileged added: \"db2\" secret/db2-secret created service/db2-ci created service/db2-lb created statefulset.apps/db2 created</p> <p>Wait 5 minutes...</p> <p>Wait approximately 5 minutes for the Db2 containers to start loading in OpenShift before executing the next step.</p> Optional: monitor events in OpenShift web console <p>Use the OpenShift web console to monitor the Db2 project events and pod creation.  </p> <ol> <li>Verify Db2 is up and running in the OpenShift cluster.</li> </ol> <pre><code>oc logs -f ${DB2_NAME}-0\n</code></pre> <p>Failure</p> <p>If no output is seen from the above command, or if it returns the following message:</p> <p>Error from server (BadRequest): container \"db2\" in pod \"db2-0\" is waiting to start: ContainerCreating</p> <p>wait and rerun oc logs -f ${DB2_NAME}-0 until the output starts steaming as shown in the example output below.</p> <p>Example output</p> <p>(*) Previous setup has not been detected. Creating the users...</p> <p>(*) Creating users ...</p> <p>(*) Creating instance ...</p> <p>DB2 installation is being initialized.</p> <p>Total number of tasks to be performed: 4 Total estimated time for all tasks to be performed: 309 second(s)</p> <p>Task #1 start Description: Setting default global profile registry variables Task #1 end</p> <p>Task #2 start Description: Initializing instance list Estimated time 5 second(s) Task #2 end</p> <p>Task #3 start Description: Configuring DB2 instances Estimated time 300 second(s) Task #3 end</p> <p>Task #4 start Description: Updating global profile registry Estimated time 3 second(s) Task #4 end</p> <pre><code>...\n**Long output - truncated in this example**\n...\n</code></pre> <p>2022-10-18-16.44.43.180954+000 I33681E386            LEVEL: Warning PID     : 15858                TID : 139996146354048 PROC : db2start</p> <p>INSTANCE: db2inst1             NODE : 000</p> <p>HOSTNAME: db2-0</p> <p>FUNCTION: DB2 UDB, base sys utilities, sqleReleaseStStLockFile, probe:16078</p> <p>MESSAGE : Released lock on the file:</p> <p>DATA #1 : String, 50 bytes</p> <p>/database/config/db2inst1/sqllib/ctrl/db2strst.lck</p> <p>Do not proceed until...</p> <p>Do not proceed to the next step until the following line appears in the output:</p> <p>/database/config/db2inst1/sqllib/ctrl/db2strst.lck</p> <ol> <li>Stop the oc logs command by entering Ctrl+c on the keyboard.</li> </ol> <p>Example output</p> <p>... FUNCTION: DB2 UDB, base sys utilities, sqleReleaseStStLockFile, probe:16078</p> <p>MESSAGE : Released lock on the file:</p> <p>DATA #1 : String, 50 bytes</p> <p>/database/config/db2inst1/sqllib/ctrl/db2strst.lck</p> <p>^C</p> <p>itzuser@itz-2700039nft-srv4:~/b2bi$</p>"},{"location":"DemoPreparation-CloudShell/#configure-db2-and-create-the-required-b2bi-tables","title":"Configure Db2 and create the required B2Bi tables","text":"<ol> <li>Prepare the Db2 instance running in OpenShift.</li> </ol> <pre><code>./prepare_db2.sh\n</code></pre> <p>This script does not generate output.</p> <ol> <li>Remotely connect to the Db2 container running in OpenShift.</li> </ol> <pre><code>oc rsh pod/${DB2_NAME}-0 su - db2inst1\n</code></pre> <p>Example output</p> <p>Last login: Tue Oct 18 20:47:33 UTC 2022</p> <p>[db2inst1@db2-0 ~]$</p> <p>A remote connection is now open to the Db2 container running in OpenShift as shown by the change in the command prompt to: [db2inst1@db2-0 ~]$</p> <ol> <li>Run the db2reg.sh script.</li> </ol> <pre><code>./db2reg.sh\n</code></pre> Example output <p>DB20000I  The UPDATE DATABASE MANAGER CONFIGURATION command completed successfully.</p> <p>DB20000I  The UPDATE DATABASE MANAGER CONFIGURATION command completed successfully.</p> <p>DB20000I  The UPDATE DATABASE MANAGER CONFIGURATION command completed successfully.</p> <p>DB20000I  The UPDATE DATABASE MANAGER CONFIGURATION command completed successfully.</p> <p>DB20000I  The UPDATE DATABASE MANAGER CONFIGURATION command completed successfully.</p> <p>DB20000I  The UPDATE DATABASE MANAGER CONFIGURATION command completed successfully.</p> <p>DB20000I  The UPDATE DATABASE MANAGER CONFIGURATION command completed successfully.</p> <p>DB20000I  The UPDATE DATABASE MANAGER CONFIGURATION command completed successfully.</p> <ol> <li>Create the B2Bi tables in Db2.</li> </ol> <pre><code>db2 -stvf create_scc_db_b2bidb.sql\n</code></pre> <p>This will take ~5 minutes</p> <p>This command will take approximately 5 minutes to complete.</p> Example output <p>CREATE DATABASE B2BIDB AUTOMATIC STORAGE YES USING CODESET UTF-8 TERRITORY US COLLATE USING IDENTITY PAGESIZE 4096 DFT_EXTENT_SZ 32</p> <p>DB20000I  The CREATE DATABASE command completed successfully.</p> <p>CONNECT TO B2BIDB</p> <p>Database Connection Information</p> <p>Database server        = DB2/LINUXX8664 11.5.5.1  SQL authorization ID   = DB2INST1  Local database alias   = B2BIDB</p> <p>UPDATE DATABASE CONFIG USING STMT_CONC LITERALS</p> <p>DB20000I  The UPDATE DATABASE CONFIGURATION command completed successfully.</p> <p>... Long output - truncated in this example ...</p> <p>CREATE USER TEMPORARY TABLESPACE UTEMP4KTS IN DATABASE PARTITION GROUP IBMDEFAULTGROUP PAGESIZE 4 K MANAGED BY AUTOMATIC STORAGE EXTENTSIZE 32 BUFFERPOOL UTEMP4KBP FILE SYSTEM CACHING</p> <p>DB20000I  The SQL command completed successfully.</p> <p>CONNECT RESET</p> <p>DB20000I  The SQL command completed successfully.</p> <ol> <li>Run the final Db2 update script.</li> </ol> <pre><code>./db2-update.sh\n</code></pre> Example output <p>Database Connection Information</p> <p>Database server        = DB2/LINUXX8664 11.5.5.1 SQL authorization ID   = DB2INST1 Local database alias   = B2BIDB</p> <p>DB20000I  The SQL command completed successfully. DB20000I  The TERMINATE command completed successfully. DB20000I  The FORCE APPLICATION command completed successfully. DB21024I  This command is asynchronous and may not be effective immediately.</p> <p>DB20000I  The DEACTIVATE DATABASE command completed successfully.</p> <p>10/18/2022 16:53:39     0   0   SQL1064N  DB2STOP processing was successful.</p> <p>SQL1064N  DB2STOP processing was successful.</p> <p>10/18/2022 16:53:41     0   0   SQL1063N  DB2START processing was successful.</p> <p>SQL1063N  DB2START processing was successful.</p> <ol> <li>Exit the connection to the Db2 container in OpenShift.</li> </ol> <pre><code>exit\n</code></pre> Example output <p>logout itzuser@itz-2700039nft-srv4:~/b2bi$</p> <p>Notice the command line prompt has changed back to the prompt for IBM Cloud Shell.</p>"},{"location":"DemoPreparation-CloudShell/#install-mq-in-the-openshift-cluster","title":"Install MQ in the OpenShift cluster","text":"<ol> <li>Deploy MQ to OpenShift.</li> </ol> <pre><code>./deploy_mq.sh\n</code></pre> Example output <p>Now using project \"mq\" on server \"https://c109-e.us-east.containers.cloud.ibm.com:30720\".</p> <p>You can add applications to this project with the 'new-app' command. For example, try:</p> <p>oc new-app rails-postgresql-example</p> <p>to build a new example application in Ruby. Or use kubectl to deploy a simple Kubernetes application:</p> <p>kubectl create deployment hello-node --image=k8s.gcr.io/e2e-test-images/agnhost:2.33 -- /agnhost serve-hostname</p> <p>serviceaccount/mq created clusterrole.rbac.authorization.k8s.io/system:openshift:scc:privileged added: \"mq\" service/mq-data created service/mq-web created</p> <p>W1018 16:54:39.757566   34060 shim_kubectl.go:58] Using non-groupfied API resources is deprecated and will be removed in a future release, update apiVersion to \"route.openshift.io/v1\" for your resource</p> <p>route.route.openshift.io/mq-web created</p> <p>secret/mq-secret created</p> <p>statefulset.apps/mq created</p>"},{"location":"DemoPreparation-CloudShell/#update-the-environment-variables-with-ibm-container-entitlement-key-and-e-mail-address","title":"Update the environment variables with IBM container entitlement key and e-mail address","text":"<p>The next steps require editing of a file using the vi editor. If you are not familiar with the vi editor, it is strongly recommend to watch the following video before proceeding. There is no audio for this video.</p> <p></p> <ol> <li>Open the vi editor.</li> </ol> <pre><code>vi  env.sh\n</code></pre> <ol> <li>Open the IBM Entitlement key page here.</li> </ol> <p>Note, re-authentication to ibm.com may be required.</p> <ol> <li>If an entitlement key does not already exist, click Add new key.</li> </ol> <p></p> <ol> <li>Click the Copy button.</li> </ol> <p></p> <ol> <li>Return to the IBM Cloud Shell window, use the arrow keys to move the cursor between the quotes in the export APIKEY line, press i to enter input mode, and paste the copied entitlement key between the quotes.</li> <li>Press the esc key to exit input mode.</li> <li>Arrow key down and over to between the quotes in the export EMAIL=\"\" line and enter a your e-mail address.</li> <li>Press the esc key to exit input mode.</li> <li>Move cursor between the quotes on the export EMAIL=\"\" line, press i to enter input mode, and enter your e-mail address.</li> <li>Press the : key and then the x key and enter to save and exit the vi editor.</li> <li>Verify the env.sh file looks like the example output below.</li> </ol> <pre><code>cat env.sh\n</code></pre> <p>Example output</p> <p>itzuser@itz-2700039nft-srv4:~/b2bi$ cat env.sh</p> <p>#!/usr/bin/bash</p> <p>## Locate your APIKEY (Entitlement Key For Container Software)</p> <p>## here: https://myibm.ibm.com/products-services/containerlibrary</p> <p>## Requires IBM ID and permission.</p> <p>export PROJECT_NAME=\"b2bi\"</p> <p>export PROJECT_DIR=\"$HOME/b2bi\"</p> <p>export DB2_NAME=\"db2\"</p> <p>export MQ_NAME=\"mq\"</p> <p>export APIKEY=\"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\"</p> <p>export EMAIL=\"andrew@jones-tx.com\"</p> <p>itzuser@itz-2700039nft-srv4:~/b2bi$</p>"},{"location":"DemoPreparation-CloudShell/#install-b2bi-in-the-openshift-cluster","title":"Install B2Bi in the OpenShift cluster","text":"<ol> <li>Deploy the B2Bi related containers on OpenShift.</li> </ol> <pre><code>./deploy_b2bi.sh\n</code></pre> <p>This will take approximately 10 minutes</p> <p>This command will take approximately 10 minutes to complete.</p> Optional: monitor events in the OpenShift web console <p>Use the OpenShift web console to monitor the b2bi project events and pod creation. </p> <p></p> Example output <p>Now using project \"b2bi\" on server \"https://c103-e.us-south.containers.cloud.ibm.com:31501\".</p> <p>You can add applications to this project with the 'new-app' command. For example, try:</p> <p>oc new-app rails-postgresql-example</p> <p>to build a new example application in Ruby. Or use kubectl to deploy a simple Kubernetes application:</p> <p>kubectl create deployment hello-node --image=k8s.gcr.io/e2e-test-images/agnhost:2.33 -- /agnhost serve-hostname</p> <p>persistentvolumeclaim/ibm-cloud-file-nfs-storage-pvc created clusterrole.rbac.authorization.k8s.io/system:openshift:scc:anyuid added: \"default\" deployment.apps/ibm-cloud-file-nfs-storage-pod created Defaulted container \"ibm-cloud-file-nfs-storage-pod\" out of: ibm-cloud-file-nfs-storage-pod, permissionsfix (init)</p> <p>... Long output - truncated in this example ...</p> <ol> <li>Set environment variables for final install step.</li> </ol> <pre><code>export DB2_IP=$(oc get svc db2-ci -n ${DB2_NAME} -o jsonpath='{.spec.clusterIP}')\nexport MQ_IP=$(oc get svc mq-data -n ${MQ_NAME} -o jsonpath='{.spec.clusterIP}')\nexport INGRESS_SUBDOMAIN=$(oc get IngressController default -n openshift-ingress-operator -o jsonpath='{.status.domain}')\n</code></pre> <ol> <li>Finalize the B2Bi install Yet Another Markup Language (YAML) file.</li> </ol> <pre><code>envsubst &lt; $PROJECT_DIR/ibm-b2bi-prod/values.yaml &gt; b2biInstall.yaml\n</code></pre> <ol> <li>Run the helm chart to install the B2Bi containers in OpenShift.</li> </ol> <pre><code>helm install sterling-fg $PROJECT_DIR/ibm-b2bi-prod --timeout 120m0s --namespace ${PROJECT_NAME} --values b2biInstall.yaml --debug\n</code></pre> <p>This will take approximately 60 minutes</p> <p>This command will take approximately 60 minutes to complete.</p> Learn an interesting detail about IBM Cloud Shell while you wait... <p>IBM Cloud Shell is a very useful tool when working with IBM Cloud command line interfaces as well as other Cloud-related tools like Red Hat OpenShift, kubernetes, helm, etc. as many of these tools are preinstalled and alleviate the need to install tools on personal workstations. However, IBM Cloud Shell has some limitations that you can read about here.</p> <p>One additional limitation not listed in the above doc is that IBM Cloud Shell will kill long running processes running in scripts (e.g. bash scripts). This issue was encountered while creating these installation scripts.  Originally, steps 37 through 39 above were contained in the deploy_b2bi.sh script. However, when executed, the deploy_b2bi.sh script would get killed (which in turn killed helm) after running approximately 20 minutes. By pulling the helm command out of the script and running it directly in the initial shell process, helm is able to complete the install of the B2Bi containers.</p> Example output <p>... Long output - truncated in this example ...</p> <p>NAME: sterling-fg</p> <p>LAST DEPLOYED: Wed Oct 19 17:11:30 2022</p> <p>NAMESPACE: b2bi</p> <p>STATUS: deployed</p> <p>REVISION: 1</p> <p>NOTES:</p> <p>Please wait while the application is getting deployed.</p> <ol> <li> <p>Run the below command to check the status of application server replica sets. At least 1 replica must be in 'READY' state.</p> <p>kubectl get replicasets -l release=sterling-fg -n b2bi</p> </li> <li> <p>Run the below command to check the status of the application server pods for the release.</p> <p>kubectl get pods -l release=sterling-fg -n b2bi -o wide</p> </li> </ol> <p>To view the logs for a pod, run the below command.</p> <pre><code>kubectl logs &lt;pod name&gt; -n b2bi\n</code></pre> <ol> <li>Access the application by running the following url</li> </ol> <p>Do not close the IBM Cloud Shell browser window/tab until the command completes. Once the command  successfully completes, the IBM Cloud Shell can be closed (type exit at the command prompt or simply close the browser window/tab).</p> <p>That concludes the setup of the environment. Proceed to the next part of the demonstration guide to configure B2Bi.</p>"},{"location":"DemoPreparation-OCPlogon/","title":"Accessing the Red Hat OpenShift Cluster","text":"<p>This demonstration workshop uses an OpenShift environment provisioned from IBM Technology Zone (ITZ) here. If you are attending the workshop in-person, this OpenShift environment has already been created for you.</p> <p>In a web browser open the link to the OpenShift Cluster provided from your workshop leader.</p> <p>When the page loads, you will see an IDP selector, choose workshop-user</p> <p></p> <p>At the login prompt, type in cluster-user as the Username and enter the password from your workshop leader. Then, press Log in.</p> <p></p> <p>In a moment, a page like the one below should open in the browser window.</p> <p></p> <p>Leave this browser window open. It will be used again later.</p> <p>That concludes the setup of access to the OpenShift cluster. Proceed to the next part of the demonstration guide to configure B2Bi.</p>"},{"location":"DemoPreparation-VSI/","title":"DemoPreparation VSI","text":"<p>This demonstration requires two IBM Technology Zone (ITZ) environments: - Custom ROKS requests: https://techzone.ibm.com/collection/custom-roks-vmware-requests - IBM Cloud VSI (Classic): https://techzone.ibm.com/collection/base-images</p> <p>At this point, all users should have completed the steps in the IBM Sterling Data Exchange Level 3 learning plan to reserve the two environments as described in the IBM Sterling Data Exchange Level 3 Introduction video. Before proceeding, validate that both the reservations have been fully provisioned and are in the Ready state in ITZ. If not, please complete those steps before proceeding.</p> <p></p> <p>The following steps must be performed before delivering the demonstration. These steps should be performed well in advance of starting an actual client demonstration as it will take approximately 1 hour for all steps to complete.</p>"},{"location":"DemoPreparation-VSI/#accept-invitation-to-join-the-itz-ibm-cloud-account-for-the-custom-roks-reservation","title":"Accept invitation to join the ITZ IBM Cloud account for the Custom ROKS reservation","text":"<ol> <li>Open the You are invited to join an account in IBM Cloud email received from IBM Cloud and click the Join now link.</li> </ol> <ol> <li>In the browser window that opens, click the Join Account button.</li> </ol> <p>Follow the steps to login to IBM Cloud.</p> <ol> <li>On the IBM Cloud Dashboard set the current account to 2112072 - ITZ - V2.</li> </ol> <p></p> Not seeing 2112072 - ITZ - V2? <p>It is possible ITZ provisioned the OpenShift cluster in a different IBM Cloud account. Select the account specified in the ITZ reservation. </p> <ol> <li>Click the OpenShift  icon in the left-hand menu bar.</li> </ol> <p></p> <ol> <li>Click Clusters.</li> </ol> <p></p> <ol> <li>Click the OpenShift cluster name in the table.</li> </ol> <p></p> <p>Note: the cluster name will be different than seen in the above image.</p> <ol> <li>Click the OpenShift web console button.</li> </ol> <p></p> <p>At this time, a page like the one below should be in a new browser window or tab.</p> <p></p> <p>Leave this window open. It will be used again later.</p>"},{"location":"DemoPreparation-VSI/#download-the-ssh-key-from-the-ibm-cloud-vsi-classic-reservations","title":"Download the SSH key from the IBM Cloud VSI (Classic) reservations","text":"<ol> <li> <p>Open a new browser window or tab to the ITZ My reservations page. <li> <p>Click on the IBM Cloud VSI (Classic) reservation tile.</p> </li> <p></p> <ol> <li>Click the Download SSH Key button.</li> </ol> <p></p> <p>Take note</p> <p>Take note of the Public IP, SSH Port, and Username fields in the reservation. These values will be needed later.</p> <p>By default, most browsers will utilize the default Downloads directory in the users home directory.</p>"},{"location":"DemoPreparation-VSI/#connect-to-the-virtual-server-instance-vsi","title":"Connect to the Virtual Server Instance (VSI)","text":"<p>The next step must be performed on the users local computer. The directions below are specific to users with a Mac computer (MacOS). All instructions listed here should be the same for users running on Linux machines.</p> <p>For Windows machines users.</p> <p>Windows users will need to utilize a ssh client such as putty. XXXXXXX</p> <ol> <li>Open a terminal on local desktop computer using Mac Spotlight (press the command key and the space bar).</li> </ol> <p></p> <ol> <li>Enter the following command to change to the Downloads directory where the ITZ private key was downloaded.</li> </ol> <pre><code>cd Downloads\n</code></pre> <ol> <li>Verify the SSH key file is found in the Downloads directory.</li> </ol> <pre><code>ls -l pem_ibmcloudvsi_download.pem\n</code></pre> Example output <p>-rw-r--r--@ 1 andrewjones  staff  3243 Oct 18 13:12 pem_ibmcloudvsi_download.pem</p> No such file or directory? <p>If the file was not found, verify the default download directory of the browser used in step 11 above and try again adjusting for correct download directory. It is also possible the SSH key file name was not saved as pem_ibmcloudvsi_download.pem. Check the Downloads directory for the most recent file names.</p> <ol> <li>Change the permissions of the SSH key file.</li> </ol> <pre><code>chmod 0600 pem_ibmcloudvsi_download.pem\n</code></pre> <ol> <li>Verify the SSH key file has the proper permissions.</li> </ol> <pre><code>ls -l pem_ibmcloudvsi_download.pem\n</code></pre> Example output <p>-rw-------@ 1 andrewjones  staff  3243 Oct 18 13:12 pem_ibmcloudvsi_download.pem</p> <ol> <li>Use ssh to connect to the remote VSI and enter yes when prompted to continue.</li> </ol> <p>Warning</p> <p>Substitute the strings PORT, USER, and PUBLICIP with the values in the VSI reservation as illustrated in the image in step 11 above.</p> <p><code>ssh  -i pem_ibmcloudvsi_download.pem -p SSHPORT USERNAME@PUBLICIP</code></p> Example output <p>MacBook-Pro-2:Downloads andrewjones$ ssh -i pem_ibmcloudvsi_download.pem -p 2223 itzuser@169.59.6.211</p> <p>The authenticity of host '[169.59.6.211]:2223 ([169.59.6.211]:2223)' can't be established.</p> <p>ED25519 key fingerprint is SHA256:YAN8U3PtpCzdhqc67F8ZQWlJjQgBV0DOi7LvZgDEtws.</p> <p>This key is not known by any other names</p> <p>Are you sure you want to continue connecting (yes/no/[fingerprint])? yes</p> <p>Warning: Permanently added '[169.59.6.211]:2223' (ED25519) to the list of known hosts.</p> <p>Welcome to Ubuntu 20.04.4 LTS (GNU/Linux 5.4.0-124-generic x86_64)</p> <pre><code>...\n**Long output - truncated in this example**\n...\n</code></pre> <p>To run a command as administrator (user \"root\"), use \"sudo \". See \"man sudo_root\" for details."},{"location":"DemoPreparation-VSI/#install-all-required-ibm-cloud-and-other-tools","title":"Install all required IBM Cloud and other tools","text":"<ol> <li>Use the following command to install all required tools.</li> </ol> <pre><code>bash &lt;(curl -sL https://ibm.biz/ocp-cli)\n</code></pre> <p>Example output</p> <p>Updating the operating system. Wait!</p> <p>Installing Docker. Wait!</p> <p>Adding user to docker group. Wait!</p> <p>Setting up docker to start at reboot. Wait!</p> <p>Installing common utilities. Wait!</p> <p>Installing ibmcloud utility. Wait!</p> <p>Installing Helm. Wait!</p> <p>Installing OpenShift oc utility. Wait!</p> <p>Installing Kubernetes kubectl. Wait!</p> <p>cleaning up. Wait!</p> <p>All done.</p> <p>Client Version: 4.10.0</p> <p>version.BuildInfo{Version:\"v3.10.1\", GitCommit:\"9f88ccb6aee40b9a0535fcc7efea6055e1ef72c9\", GitTreeState:\"clean\", GoVersion:\"go1.18.7\"}</p> <p>Flag --short has been deprecated, and will be removed in the future. The --short output will</p> <p>become the default.</p> <p>Client Version: v1.25.3</p> <p>Kustomize Version: v4.5.7</p> <p>ibmcloud version 2.11.1+c18277d-2022-09-23T21:49:24+00:00</p> <p>Reboot your instance now: sudo shutdown -r now</p> <p>If the reboot message is not seen</p> <p>If the reboot message is not seen in the output of the previous command a problem occurred. Re-run the last command.  When doing so, ignore error messages about items already installed.</p> <ol> <li>Restart the VSI.</li> </ol> <pre><code>sudo shutdown -r now\n</code></pre> Example output <p>Connection to PUBLICIP closed by remote host. Connection to PUBLICIP closed.</p> <p>Note, it will take a few minutes for the VSI to reboot. Wait 2 or 3 minutes and then continue the steps below.</p>"},{"location":"DemoPreparation-VSI/#download-the-b2bi-installation-scripts","title":"Download the B2Bi installation scripts","text":"<ol> <li>Use ssh to re-connect to the remote VSI.</li> </ol> <p>Warning</p> <p>Substitute the strings PORT, USER, and PUBLICIP with the values in the VSI reservation as illustrated in the image in step 11 above.</p> <p><code>ssh  -i pem-ibmcloudvsi-download.pem -p SSHPORT USERNAME@PUBLICIP</code></p> Example output <p>MacBook-Pro-2:Downloads andrewjones$ ssh -i pem_ibmcloudvsi_download.pem -p 2223 itzuser@169.59.6.211 Welcome to Ubuntu 20.04.5 LTS (GNU/Linux 5.4.0-124-generic x86_64)</p> <ul> <li>Documentation:  https://help.ubuntu.com</li> <li>Management:     https://landscape.canonical.com</li> <li>Support:        https://ubuntu.com/advantage</li> </ul> <p>System information as of Tue Oct 18 19:58:23 UTC 2022</p> <p>System load:  0.65              Users logged in:          0 Usage of /:   3.0% of 97.26GB   IPv4 address for docker0: 172.17.0.1 Memory usage: 7%                IPv4 address for eth0:    10.36.166.233 Swap usage:   0%                IPv4 address for eth1:    169.59.6.211 Processes:    123</p> <p>8 updates can be applied immediately. 8 of these updates are standard security updates. To see these additional updates run: apt list --upgradable</p> <p>New release '22.04.1 LTS' available. Run 'do-release-upgrade' to upgrade to it.</p> <p>Last login: Tue Oct 18 19:47:57 2022 from 70.114.143.247</p> <ol> <li>Create a new directory B2Bi installation scripts.</li> </ol> <pre><code>mkdir b2bi\n</code></pre> <ol> <li>Set the PROJECT_DIR environment variable.</li> </ol> <pre><code>export PROJECT_DIR=$HOME/b2bi\n</code></pre> <ol> <li>Change directories to PROJECT_DIR.</li> </ol> <pre><code>cd $PROJECT_DIR\n</code></pre> <ol> <li>Download the B2Bi installation script.</li> </ol> <pre><code>wget -O rapid-lab-b2bi-newdb-61051.zip https://github.com/IBM/SalesEnablement-SterlingDataExchange-L3/blob/main/tools/rapid-lab-b2bi-newdb-61051.zip?raw=true\n</code></pre> Example output <p>--2022-10-18 20:12:56--  https://github.com/IBM/SalesEnablement-SterlingDataExchange-L3/blob/main/tools/rapid-lab-b2bi-newdb-61051.zip?raw=true</p> <p>Resolving github.com (github.com)... 140.82.113.4</p> <p>Connecting to github.com (github.com)|140.82.113.4|:443... connected.</p> <p>HTTP request sent, awaiting response... 302 Found</p> <p>Location: https://github.com/IBM/SalesEnablement-SterlingDataExchange-L3/raw/main/tools/rapid-lab-b2bi-newdb-61051.zip [following]</p> <p>--2022-10-18 20:12:56--  https://github.com/IBM/SalesEnablement-SterlingDataExchange-L3/raw/main/tools/rapid-lab-b2bi-newdb-61051.zip</p> <p>Reusing existing connection to github.com:443.</p> <p>HTTP request sent, awaiting response... 302 Found</p> <p>Location: https://raw.githubusercontent.com/IBM/SalesEnablement-SterlingDataExchange-L3/main/tools/rapid-lab-b2bi-newdb-61051.zip [following]</p> <p>--2022-10-18 20:12:57--  https://raw.githubusercontent.com/IBM/SalesEnablement-SterlingDataExchange-L3/main/tools/rapid-lab-b2bi-newdb-61051.zip</p> <p>Resolving raw.githubusercontent.com (raw.githubusercontent.com)... 185.199.110.133, 185.199.111.133, 185.199.108.133, ...</p> <p>Connecting to raw.githubusercontent.com (raw.githubusercontent.com)|185.199.110.133|:443... connected.</p> <p>HTTP request sent, awaiting response... 200 OK</p> <p>Length: 4061226 (3.9M) [application/zip]</p> <p>Saving to: \u2018rapid-lab-b2bi-newlab-61051.zip\u2019</p> <p>rapid-lab-b2bi-newlab-61051.zip                             100%[=========================================================================================================================================&gt;]   3.87M  --.-KB/s    in 0.03s</p> <p>2022-10-18 20:12:57 (147 MB/s) - \u2018rapid-lab-b2bi-newlab-61051.zip\u2019 saved [4061226/4061226]</p> <ol> <li>Unzip the installation script.</li> </ol> <pre><code>unzip rapid-lab-b2bi-newdb-61051.zip\n</code></pre> Example output <p>Archive:  rapid-lab-b2bi-newdb-61051.zip</p> <p>inflating: deploy_mq.sh</p> <p>inflating: edited-values.yaml</p> <p>inflating: prepare_db2.sh</p> <p>inflating: deploy_db2.sh</p> <p>inflating: README.md</p> <p>inflating: COPYING</p> <p>inflating: env.sh</p> <p>inflating: deploy_b2bi.sh</p> <p>inflating: db2jcc4.jar</p>"},{"location":"DemoPreparation-VSI/#authenticate-to-the-openshift-cluster","title":"Authenticate to the OpenShift cluster","text":"<p>For the next steps, the OpenShift login command to authenticate to the cluster in the ITZ reservation must be retrieved an executed.</p> <ol> <li>Switch to the OpenShift web console browser window or tab.</li> </ol> <p></p> <ol> <li>Click the IAM identity drop-down menu at top left of the OpenShift web console and click the Copy Login Command option.</li> </ol> <p></p> <ol> <li>Click the Display token link.</li> </ol> <p></p> <ol> <li>Copy and paste the string in the Log in with this token field.</li> </ol> <p></p> <ol> <li>Switch to the SSH terminal window from earlier.</li> <li>Paste the oc login command line copied in step 29 into the terminal window and press enter.</li> </ol> <p>Example output</p> <p>itzuser@itz-2700039nft-srv4:~/b2bi$ oc login --token=sha256~XXXXXXXXXXXXXXXXXX --server=https://c103-e.us-south.containers.cloud.ibm.com:31501</p> <p>Logged into \"https://c103-e.us-south.containers.cloud.ibm.com:31501\" as \"IAM#andrew@jones-tx.com\" using the token provided.</p> <p>You have access to 66 projects, the list has been suppressed. You can list all projects with 'oc projects'</p> <p>Using project \"default\".</p> <p>Welcome! See 'oc help' to get started.</p> <p>itzuser@itz-2700039nft-srv4:~/b2bi$</p> <ol> <li>Run the environment setup and Db2 deploy scripts.</li> </ol> <pre><code>. env.sh ; ./deploy_db2.sh\n</code></pre> Example output <p>Now using project \"db2\" on server \"https://c109-e.us-east.containers.cloud.ibm.com:30720\".</p> <p>You can add applications to this project with the 'new-app' command. For example, try:</p> <p>oc new-app rails-postgresql-example</p> <p>to build a new example application in Ruby. Or use kubectl to deploy a simple Kubernetes application:</p> <p>kubectl create deployment hello-node --image=k8s.gcr.io/e2e-test-images/agnhost:2.33 -- /agnhost serve-hostname</p> <p>serviceaccount/db2 created clusterrole.rbac.authorization.k8s.io/system:openshift:scc:privileged added: \"db2\" secret/db2-secret created service/db2-ci created service/db2-lb created statefulset.apps/db2 created</p> <p>Wait 5 minutes...</p> <p>Wait approximately 5 minutes for the Db2 containers to start loading in OpenShift before executing the next step.</p> Monitor events in OpenShift web console <p>Use the OpenShift web console to monitor the Db2 project events and pod creation.  </p> <ol> <li>Verify Db2 is up and running in the OpenShift cluster.</li> </ol> <pre><code>oc logs -f ${DB2_NAME}-0\n</code></pre> <p>Failure</p> <p>If no output is seen from the above command, or if it returns the message: Error from server (BadRequest): container \"db2\" in pod \"db2-0\" is waiting to start: ContainerCreating  wait and rerun oc logs -f ${DB2_NAME}-0 until the output starts steaming as shown in the example output below.</p> <p>Example output</p> <p>(*) Previous setup has not been detected. Creating the users...</p> <p>(*) Creating users ...</p> <p>(*) Creating instance ...</p> <p>DB2 installation is being initialized.</p> <p>Total number of tasks to be performed: 4 Total estimated time for all tasks to be performed: 309 second(s)</p> <p>Task #1 start Description: Setting default global profile registry variables Task #1 end</p> <p>Task #2 start Description: Initializing instance list Estimated time 5 second(s) Task #2 end</p> <p>Task #3 start Description: Configuring DB2 instances Estimated time 300 second(s) Task #3 end</p> <p>Task #4 start Description: Updating global profile registry Estimated time 3 second(s) Task #4 end</p> <pre><code>...\n**Long output - truncated in this example**\n...\n</code></pre> <p>2022-10-18-16.44.43.180954+000 I33681E386            LEVEL: Warning PID     : 15858                TID : 139996146354048 PROC : db2start</p> <p>INSTANCE: db2inst1             NODE : 000</p> <p>HOSTNAME: db2-0</p> <p>FUNCTION: DB2 UDB, base sys utilities, sqleReleaseStStLockFile, probe:16078</p> <p>MESSAGE : Released lock on the file:</p> <p>DATA #1 : String, 50 bytes</p> <p>/database/config/db2inst1/sqllib/ctrl/db2strst.lck</p> <p>Do not proceed until...</p> <p>Do not proceed to the next step until the following line appears in the output:</p> <p>/database/config/db2inst1/sqllib/ctrl/db2strst.lck</p> <ol> <li>Stop the oc logs command by entering Ctrl+c on the keyboard.</li> </ol> <p>Example output</p> <p>... FUNCTION: DB2 UDB, base sys utilities, sqleReleaseStStLockFile, probe:16078</p> <p>MESSAGE : Released lock on the file:</p> <p>DATA #1 : String, 50 bytes</p> <p>/database/config/db2inst1/sqllib/ctrl/db2strst.lck</p> <p>^C</p> <p>itzuser@itz-2700039nft-srv4:~/b2bi$</p> <ol> <li>Prepare the Db2 instance running in OpenShift.</li> </ol> <pre><code>./prepare_db2.sh\n</code></pre> <p>Note, this script does not generate output.</p> <ol> <li>Remotely connect to the Db2 container running in OpenShift.</li> </ol> <pre><code>oc rsh pod/${DB2_NAME}-0 su - db2inst1\n</code></pre> <p>Example output</p> <p>Last login: Tue Oct 18 20:47:33 UTC 2022</p> <p>[db2inst1@db2-0 ~]$</p> <p>Note, a remote connection is now open to the Db2 container running in OpenShift as shown by the change in the command prompt to: [db2inst1@db2-0 ~]$</p> <ol> <li>Run the db2reg.sh script.</li> </ol> <pre><code>./db2reg.sh\n</code></pre> Example output <p>DB20000I  The UPDATE DATABASE MANAGER CONFIGURATION command completed successfully.</p> <p>DB20000I  The UPDATE DATABASE MANAGER CONFIGURATION command completed successfully.</p> <p>DB20000I  The UPDATE DATABASE MANAGER CONFIGURATION command completed successfully.</p> <p>DB20000I  The UPDATE DATABASE MANAGER CONFIGURATION command completed successfully.</p> <p>DB20000I  The UPDATE DATABASE MANAGER CONFIGURATION command completed successfully.</p> <p>DB20000I  The UPDATE DATABASE MANAGER CONFIGURATION command completed successfully.</p> <p>DB20000I  The UPDATE DATABASE MANAGER CONFIGURATION command completed successfully.</p> <p>DB20000I  The UPDATE DATABASE MANAGER CONFIGURATION command completed successfully.</p> <ol> <li>Create the B2Bi tables in Db2.</li> </ol> <pre><code>db2 -stvf create_scc_db_b2bidb.sql\n</code></pre> <p>This will take ~5 minutes</p> <p>This command will take approximately 5 minutes to complete.</p> Example output <p>CREATE DATABASE B2BIDB AUTOMATIC STORAGE YES USING CODESET UTF-8 TERRITORY US COLLATE USING IDENTITY PAGESIZE 4096 DFT_EXTENT_SZ 32</p> <p>DB20000I  The CREATE DATABASE command completed successfully.</p> <p>CONNECT TO B2BIDB</p> <p>Database Connection Information</p> <p>Database server        = DB2/LINUXX8664 11.5.5.1  SQL authorization ID   = DB2INST1  Local database alias   = B2BIDB</p> <p>UPDATE DATABASE CONFIG USING STMT_CONC LITERALS</p> <p>DB20000I  The UPDATE DATABASE CONFIGURATION command completed successfully.</p> <p>... Long output - truncated in this example ...</p> <p>CREATE USER TEMPORARY TABLESPACE UTEMP4KTS IN DATABASE PARTITION GROUP IBMDEFAULTGROUP PAGESIZE 4 K MANAGED BY AUTOMATIC STORAGE EXTENTSIZE 32 BUFFERPOOL UTEMP4KBP FILE SYSTEM CACHING</p> <p>DB20000I  The SQL command completed successfully.</p> <p>CONNECT RESET</p> <p>DB20000I  The SQL command completed successfully.</p> <ol> <li>Run the final Db2 update script.</li> </ol> <pre><code>./db2-update.sh\n</code></pre> Example output <p>Database Connection Information</p> <p>Database server        = DB2/LINUXX8664 11.5.5.1 SQL authorization ID   = DB2INST1 Local database alias   = B2BIDB</p> <p>DB20000I  The SQL command completed successfully. DB20000I  The TERMINATE command completed successfully. DB20000I  The FORCE APPLICATION command completed successfully. DB21024I  This command is asynchronous and may not be effective immediately.</p> <p>DB20000I  The DEACTIVATE DATABASE command completed successfully.</p> <p>10/18/2022 16:53:39     0   0   SQL1064N  DB2STOP processing was successful.</p> <p>SQL1064N  DB2STOP processing was successful.</p> <p>10/18/2022 16:53:41     0   0   SQL1063N  DB2START processing was successful.</p> <p>SQL1063N  DB2START processing was successful.</p> <ol> <li>Exit the connection to the Db2 container in OpenShift.</li> </ol> <pre><code>exit\n</code></pre> Example output <p>logout itzuser@itz-2700039nft-srv4:~/b2bi$</p> <p>Notice the command line prompt has changed back to the prompt for the VSI connection.</p> <ol> <li>Deploy MQ to OpenShift.</li> </ol> <pre><code>./deploy_mq.sh\n</code></pre> Example output <p>Now using project \"mq\" on server \"https://c109-e.us-east.containers.cloud.ibm.com:30720\".</p> <p>You can add applications to this project with the 'new-app' command. For example, try:</p> <p>oc new-app rails-postgresql-example</p> <p>to build a new example application in Ruby. Or use kubectl to deploy a simple Kubernetes application:</p> <p>kubectl create deployment hello-node --image=k8s.gcr.io/e2e-test-images/agnhost:2.33 -- /agnhost serve-hostname</p> <p>serviceaccount/mq created clusterrole.rbac.authorization.k8s.io/system:openshift:scc:privileged added: \"mq\" service/mq-data created service/mq-web created</p> <p>W1018 16:54:39.757566   34060 shim_kubectl.go:58] Using non-groupfied API resources is deprecated and will be removed in a future release, update apiVersion to \"route.openshift.io/v1\" for your resource</p> <p>route.route.openshift.io/mq-web created</p> <p>secret/mq-secret created</p> <p>statefulset.apps/mq created</p> <p>Important</p> <p>Note, the next steps require editing of a file using the vi editor on the VSI. If you are not familiar with the vi editor, it is strongly recommend to watch the following video before proceeding. There is no audio for this video.</p> <p></p> <ol> <li>Open the vi editor.</li> </ol> <pre><code>vi  env.sh\n</code></pre> <ol> <li>Open the IBM Entitlement key page here.</li> </ol> <p>Note, re-authentication to ibm.com may be required.</p> <ol> <li>If an entitlement key does not already exist, click Add new key.</li> <li>Click the Copy button.</li> </ol> <p></p> <ol> <li>Return to the terminal and paste the copied entitlement key between the quotes on the export APIKEY=\"\" line.</li> <li>Enter your e-mail address between the quotes on the export EMAIL=\"\" line.</li> <li>Verify the env.sh file looks like the example output below.</li> </ol> <pre><code>cat env.sh\n</code></pre> <p>Example output</p> <p>itzuser@itz-2700039nft-srv4:~/b2bi$ cat env.sh #!/usr/bin/bash ## Locate your APIKEY (Entitlement Key For Container Software) ## here: https://myibm.ibm.com/products-services/containerlibrary ## Requires IBM ID and permission. export PROJECT_NAME=\"b2bi\" export PROJECT_DIR=\"$HOME/b2bi\" export DB2_NAME=\"db2\" export MQ_NAME=\"mq\" export APIKEY=\"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" export EMAIL=\"andrew@jones-tx.com\" itzuser@itz-2700039nft-srv4:~/b2bi$</p> <ol> <li>Deploy the B2Bi containers on OpenShift.</li> </ol> <pre><code>./deploy_b2bi.sh\n</code></pre> <p>This will take approximately 60 minutes</p> <p>This command will take approximately 60 minutes to complete.</p> Monitor events in OpenShift web console <p>Use the OpenShift web console to monitor the b2bi project events and pod creation. </p> <p></p> Example output <p>Now using project \"b2bi\" on server \"https://c103-e.us-south.containers.cloud.ibm.com:31501\".</p> <p>You can add applications to this project with the 'new-app' command. For example, try:</p> <p>oc new-app rails-postgresql-example</p> <p>to build a new example application in Ruby. Or use kubectl to deploy a simple Kubernetes application:</p> <p>kubectl create deployment hello-node --image=k8s.gcr.io/e2e-test-images/agnhost:2.33 -- /agnhost serve-hostname</p> <p>persistentvolumeclaim/ibm-cloud-file-nfs-storage-pvc created clusterrole.rbac.authorization.k8s.io/system:openshift:scc:anyuid added: \"default\" deployment.apps/ibm-cloud-file-nfs-storage-pod created Defaulted container \"ibm-cloud-file-nfs-storage-pod\" out of: ibm-cloud-file-nfs-storage-pod, permissionsfix (init)</p> <p>... Long output - truncated in this example ...</p> <p>NAME: sterling-fg</p> <p>LAST DEPLOYED: Wed Oct 19 17:11:30 2022</p> <p>NAMESPACE: b2bi</p> <p>STATUS: deployed</p> <p>REVISION: 1</p> <p>NOTES:</p> <p>Please wait while the application is getting deployed.</p> <ol> <li> <p>Run the below command to check the status of application server replica sets. At least 1 replica must be in 'READY' state.</p> <p>kubectl get replicasets -l release=sterling-fg -n b2bi</p> </li> <li> <p>Run the below command to check the status of the application server pods for the release.</p> <p>kubectl get pods -l release=sterling-fg -n b2bi -o wide</p> </li> </ol> <p>To view the logs for a pod, run the below command.</p> <pre><code>kubectl logs &lt;pod name&gt; -n b2bi\n</code></pre> <ol> <li>Access the application by running the following url</li> </ol> <p>That concludes the setup of the environment. Proceed to the next part of the demonstration guide to configure B2Bi.</p>"},{"location":"NextSteps/","title":"Next Steps","text":"<p>This guide provided information to assist IBM and Business Partner sellers and technical sellers in installing and demonstrating IBM Sterling B2B Integrator. Links to specific B2Bi topics were provided throughout this demonstration guide.</p> <p>Finally, remember to complete the IBM Sterling Data Exchange Level 3 learning plan in either YourLearning (IBM employees) or learn.ibm.com (Business Partners).</p> <p>IBM Sales and IBM Technical sales must complete a Stand and Deliver exercise to validate their ability to demonstrate B2Bi to potential clients. Refer to the evaluation rubric in the learning plan when preparing the Stand and Deliver.</p> <p>Business Partners (both sellers and technical sellers) must pass the IBM Sterling Data Exchange Level 3 quiz from learn.ibm.com. Remember, take the quiz while the you still have access to the OpenShift Cluster and B2B Integrator. The Business Partner quiz verifies use of the demonstration environment and not general knowledge of the offering.</p>"},{"location":"Overview-VideoEmbed/","title":"Overview VideoEmbed","text":"<p>This demonstration assumes users have at least a basic knowledge of IBM Sterling B2B Integrator. Before proceeding, it is highly encouraged that users complete the IBM Sterling Data Exchange Level 2 learning plan. The plan is accessible to IBM employees here and Business Partners here.</p> <p>Before proceeding, take 10 minutes to listen to Tom Limanek, B2B subject matter expert, explain the full scope of IBM B2B Integrator and the history of all the standards it supports.</p> <p></p> <p>In this demonstration script, a secure partner-to-partner data exchange solution is created using IBM Sterling Business to Business Integrator (B2Bi). More specifically, this demonstration solution uses the IBM Certified Containers for IBM Sterling B2B Integrator version of B2Bi. This version provides enterprise-grade and security-rich product editions with integrated common software services for consistent-deployment lifecycle management, including easy install and configure options, management of upgrade and roll-back, scalability, and security.</p> <p>Learn more about B2Bi here and access the B2Bi product documentation here. This demonstration solution uses Secure File Transfer Protocol (SFTP) to allow two partners to exchange files in a secure manner.</p> <p>To create this demonstration solution, the containerized version of B2Bi will be deployed to Red Hat OpenShift on IBM Cloud (a fully managed OpenShift deployment). Learn more about Red Hat OpenShift on IBM Cloud here.</p> <p>This demonstration script consists of 3 installation and configuration chapters and a chapter describing a client demonstration scenario.</p> <p>It is now time to install B2Bi on Red Hat OpenShift.</p>"},{"location":"Overview/","title":"Demonstration Overview","text":"<p>This demonstration assumes users have at least a basic knowledge of IBM Sterling B2B Integrator. Before proceeding, it is highly encouraged that users complete the IBM Sterling Data Exchange Level 2 learning plan. The plan is accessible to IBM employees here and Business Partners here.</p> <p>In this demonstration script, a secure partner-to-partner data exchange solution is created using IBM Sterling Business to Business Integrator (B2Bi). More specifically, this demonstration solution uses the IBM Certified Containers for IBM Sterling B2B Integrator version of B2Bi. This version provides enterprise-grade and security-rich product editions with integrated common software services for consistent-deployment lifecycle management, including easy install and configure options, management of upgrade and roll-back, scalability, and security.</p> <p>Learn more about B2Bi here and access the B2Bi product documentation here. This demonstration solution uses Secure File Transfer Protocol (SFTP) to allow two partners to exchange files in a secure manner.</p> <p>To create this demonstration solution, the containerized version of B2Bi will be deployed to Red Hat OpenShift on IBM Cloud (a fully managed OpenShift deployment). Learn more about Red Hat OpenShift on IBM Cloud here.</p> <p>This demonstration script consists of 3 installation and configuration chapters and a chapter describing a client demonstration scenario.</p> <p>It is now time to install B2Bi on Red Hat OpenShift.</p>"}]}